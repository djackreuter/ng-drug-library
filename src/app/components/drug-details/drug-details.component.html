<div class="card card-style mt-4 p-3">
  <div *ngIf="drug">
    <div class="row">
      <div class="col-lg-12">
        <h3>{{drug.proprietary_name}}</h3>
      </div>
    </div>
    <form [formGroup]="prescriptionForm">
      <div class="form-row">
        <div class="form-group col-lg-2">
          <label for="exampleFormControlSelect1">Quantity To Take</label>
          <select class="form-control" formControlName="quantityToTake" 
          (change)="changePillQuantity()">
            <option *ngFor="let quantity of quantityToTake" 
            [value]="quantity">
              {{quantity}}
            </option>
          </select>
        </div>

        <div class="form-group col-lg-2">
          <label>Dose Form</label>
          <input class="form-control" type="text" placeholder="{{drug.dosage_form_name}}" readonly>
        </div>

        <div class="form-group col-lg-2">
          <label for="exampleFormControlSelect1">Time(s) Per Day</label>
          <select class="form-control" formControlName="frequency" 
          (change)="changePillQuantity()">
            <option *ngFor="let freq of frequency" 
            [value]="freq">
              {{freq}}
            </option>
          </select>
        </div>

        <div class="form-group col-lg-2">
          <label for="exampleFormControlSelect1">Time</label>
          <select class="form-control" formControlName="time">
            <option *ngFor="let time of timeOfDay" 
            [value]="time">
              {{time}}
            </option>
          </select>
        </div>

        <div class="form-group">
          <label for="exampleFormControlSelect1">Days To Take</label>
          <select class="form-control" formControlName="duration" 
          (change)="changePillQuantity()">
            <option *ngFor="let duration of durationToTake" 
            [value]="duration">
              {{duration}}
            </option>
          </select>
        </div>
  
      </div>
      
      <div class="form-row">
        <div class="form-group col-lg-12">
          <label for="exampleFormControlTextarea1">Notes To Patient</label>
          <textarea formControlName="notes" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
        </div>
      </div>
     
      <div class="form-row">
        <div class="form-group col-lg-2">
          <p>For Pharmacy</p>
          <label for="exampleFormControlTextarea1">Quantity</label>
          <input type="text" class="form-control" formControlName="drugQuantity" value="{{pillQuantity}}" 
          placeholder="{{pillQuantity}}" readonly>
        </div>
      </div>

      <div class="form-group">
        <p>Refills</p>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="0">
          <label class="form-check-label">0</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="1">
          <label class="form-check-label">1</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="2">
          <label class="form-check-label">2</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="3">
          <label class="form-check-label">3</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="4">
          <label class="form-check-label">4</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" formControlName="refill" value="5">
          <label class="form-check-label">5</label>
        </div>
      </div>

      <div class="from-row">
        <button type="submit" class="btn btn-primary">Prescribe</button>
        <button (click)="goBack()" class="btn btn-secondary">Back</button>
      </div>
    </form>
  </div>
</div>
<p>{{ prescriptionForm.value | json }}</p>  
